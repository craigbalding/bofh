#!/bin/bash
set -e

OS=$1
VER=$2

install_packages() {
    case $OS in
        Ubuntu|Debian)
            apt-get update && apt-get install -y "$@"
            ;;
        CentOS|Red\ Hat*)
            yum update -y && yum install -y "$@"
            ;;
        Amazon*)
            yum update -y && amazon-linux-extras install -y "$@"
            ;;
        *)
            echo "Unsupported distribution: $OS"
            exit 1
            ;;
    esac
}

# Install pentesting tools
# Note: Package names might differ between distributions
case $OS in
    Ubuntu|Debian)
        install_packages nmap metasploit-framework wireshark john hydra
        ;;
    CentOS|Red\ Hat*|Amazon*)
        install_packages nmap wireshark john hydra
        # Metasploit might need to be installed manually on these distributions
        ;;
esac

# Get Burp Suite (platform-independent)
wget -q "https://portswigger.net/burp/releases/startdownload?product=pro&type=Jar" -O burpsuite.jar

# Any other pentesting-specific setup...

echo "Pentesting setup complete!"
